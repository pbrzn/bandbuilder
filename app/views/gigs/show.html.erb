<div class="success_message">
  <%= flash[:message] %>
</div>

<% if @gig.errors.any? %>
  <%= render partial: 'errors', locals: {gig: @gig} %>
<% end %>

<h1><%= @gig.title %></h1>

<p class="bios_and_descriptions"><%= @gig.description unless @gig.description.nil? %></p>

<h3>Music Director: <%= link_to @gig.music_director.name, music_director_path(@gig.music_director) %></h3>

<% if !@gig.location.nil? %>
  Venue: <%= @gig.location %>
<% end %><br>

<% if same_day?(@gig) %>
  Date: <%= start_date_for_views(@gig) %><br>
  Time: <%= start_time_for_views(@gig) %><br>
<% else %>
  Start Date: <%= start_date_for_views(@gig) %> at <%= start_time_for_views(@gig) %><br>
  End Date: <%= end_date_for_views(@gig) %> at <%= end_time_for_views(@gig) %><br>
<% end %>

<% if @gig.musicians.any? %>
  <h4>Musicians Booked</h4>

  <div class="link_list">
    <ul>
      <% @gig.musicians.each do |musician| %>
      <li><%= link_to musician.name, musician_path(musician) %> â€“ <%= link_to musician.instrument_name, instrument_path(musician.instrument) %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<% if @gig.open_instrument_slots.any? %>
  <h4>Open Instrument Slots</h4>

  <div class="link_list">
    <ul>
      <% @gig.open_instrument_slots.each do |instrument| %>
      <li><%= link_to instrument.name, instrument_path(instrument) %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<% if @gig.music_director == current_user %>
  <p>Budget: $<%= @gig.budget %>
  <%= button_to "Edit Gig/Add Musicians", edit_music_director_gig_path(current_user, @gig), method: 'get' %><br>
  <%= button_to "Delete Gig", music_director_gig_path(current_user, @gig), method: 'delete' %>
<% end %>
